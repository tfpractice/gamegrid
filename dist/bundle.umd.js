!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("graph-curry")):"function"==typeof define&&define.amd?define("game-grid",["exports","graph-curry"],r):r(n["game-grid"]=n["game-grid"]||{},n["graph-curry"])}(this,function(n,r){"use strict";var t=function(n){return!!n[Symbol.iterator]},e=function(n){return t(n)?n:[n]},o=function(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)},u=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return[].concat(o(e(n)))},i=function(n){return new Set(u(n))},c=Math.atan,f=Math.abs,d=Math.PI,l={column:null,row:null,id:""},a=function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=r.column;return n},v=function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=r.row;return n},g=function n(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,n=r.id;return n},s=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,r=n.column,t=n.row;return"{ node::"+r+"_"+t+" }"},p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{column:n,row:r,id:s({column:n,row:r})}},h=function(n){return p(a(n),v(n))},m=function(n){var r=n.column;return function(n){var t=n.column;return r-t}},y=function(n){var r=n.row;return function(n){var t=n.row;return r-t}},w=function(n){return function(r){return y(n)(r)/m(n)(r)}},j=function(n){return function(r){return(c(w(n)(r))%d+d)%d}},A=function(n){return function(r){return 0===f(m(n)(r))}},G=function(n){return function(r){return 0===f(y(n)(r))}},b=function(n){return function(r){return j(n)(r)===.25*d}},C=function(n){return function(r){return j(n)(r)===.75*d}},V=function(n){return function(r){return f(m(n)(r))<2}},N=function(n){return function(r){return f(y(n)(r))<2}},P=function(n){return function(r){return A(n)(r)&&G(n)(r)}},S=function(n){return function(r){return!P(n)(r)}},B=function(n){return function(r){return S(n)(r)&&V(n)(r)&&N(n)(r)}},D=function(n){return u(i(n.map(a)))},O=function(n){return u(i(n.map(v)))},z=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n.filter(A({column:r}))}},I=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return n.filter(G({row:r}))}},M=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n.filter(b({column:r,row:t}))}},x=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n.filter(C({column:r,row:t}))}},R=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return n.find(P({column:r,row:t}))}},q=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=[],e=n-1;e>=0;e--)for(var o=r-1;o>=0;o--)t.unshift(p(e,o));return t},E=Object.freeze({column:a,row:v,id:g,nodeString:s,node:p,copy:h,colDiff:m,rowDiff:y,tangent:w,angleBetween:j,sameCol:A,sameRow:G,samePVector:b,sameNVector:C,cAdj:V,rAdj:N,isEquivalent:P,xEquivalent:S,isNeighbor:B,cIDs:D,rIDs:O,byCol:z,byRow:I,byPVec:M,byNVec:x,byPosition:R,generate:q}),_=r.Graph.nodes,J=function(n){return function(r){return _(n).filter(B(r))}},k=function(n){return function(r){return J(n)(r).filter(G(r))}},F=function(n){return function(r){return J(n)(r).filter(A(r))}},H=function(n){return function(r){return J(n)(r).filter(b(r))}},K=function(n){return function(r){return J(n)(r).filter(C(r))}},L=Object.freeze({allAdj:J,rowAdj:k,colAdj:F,posAdj:H,negAdj:K}),Q=function(n){if(Array.isArray(n)){for(var r=0,t=Array(n.length);r<n.length;r++)t[r]=n[r];return t}return Array.from(n)},T=r.Graph.addEdges,U=r.Graph.nodes,W=function(n,r){return T(n)(r,0).apply(void 0,Q(J(n)(r)))},X=function(n,r){return T(n)(r,0).apply(void 0,Q(F(n)(r)))},Y=function(n,r){return T(n)(r,0).apply(void 0,Q(k(n)(r)))},Z=function(n,r){return T(n)(r,0).apply(void 0,Q(H(n)(r)))},$=function(n,r){return T(n)(r,0).apply(void 0,Q(K(n)(r)))},nn=function(n){return U(n).reduce(W,n)},rn=function(n){return U(n).reduce(X,n)},tn=function(n){return U(n).reduce(Y,n)},en=function(n){return U(n).reduce(Z,n)},on=function(n){return U(n).reduce($,n)},un=Object.freeze({joinAdj:W,joinCols:X,joinRows:Y,joinPVectors:Z,joinNVectors:$,joinGrid:nn,colGrid:rn,rowGrid:tn,posGrid:en,negGrid:on}),cn=r.Components.componentSet,fn=function(n){return cn(rn(n))},dn=function(n){return cn(tn(n))},ln=function(n){return cn(en(n))},an=function(n){return cn(on(n))},vn=function(n){return[fn,an,ln,dn].map(function(r){return r(n)}).reduce(function(n,r){return new Set(n).add(r)},new Set)},gn=function(n){return(new Map).set("row",dn(n)).set("col",fn(n)).set("pos",ln(n)).set("neg",an(n))},sn=Object.freeze({colComps:fn,rowComps:dn,posComps:ln,negComps:an,omniComps:vn,splitComps:gn}),pn=r.Graph.graph,hn=r.Graph.nodes,mn=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=[],e=n-1;e>=0;e--)for(var o=r-1;o>=0;o--)t.unshift(p(e,o));return t},yn=function(n){return new Set(hn(n).map(a))},wn=function(n){return new Set(hn(n).map(v))},jn=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return pn.apply(void 0,Q(mn(n,r)))},An=function(n){return pn.apply(void 0,Q(hn(n)))},Gn=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return hn(n).filter(A({column:r}))}},bn=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return hn(n).filter(G({row:r}))}},Cn=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return hn(n).filter(b({column:r,row:t}))}},Vn=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return hn(n).filter(C({column:r,row:t}))}},Nn=function(n){return function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return hn(n).find(P({column:r,row:t}))}},Pn=function(n){return hn(n).reduce(W,n)},Sn=function(n){return hn(n).reduce(X,n)},Bn=function(n){return hn(n).reduce(Y,n)},Dn=function(n){return hn(n).reduce(Z,n)},On=function(n){return hn(n).reduce(joinNVectors,n)},zn=Object.freeze({genNodes:mn,cIDs:yn,rIDs:wn,grid:jn,copy:An,nodesByColumn:Gn,nodesByRow:bn,nodesByPVector:Cn,nodesByNVector:Vn,nodeByPosition:Nn,joinGrid:Pn,colGrid:Sn,rowGrid:Bn,posGrid:Dn,negGrid:On});n.Adj=L,n.Components=sn,n.Grid=zn,n.Join=un,n.Node=E,Object.defineProperty(n,"__esModule",{value:!0})});
//# sourceMappingURL=bundle.umd.js.map
