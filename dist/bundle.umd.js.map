{"version":3,"file":"bundle.umd.js","sources":["../src/node.js","../src/adj.js","../src/join.js","../src/components.js","../src/grid.js","../src/Join.js"],"sourcesContent":["const { atan, abs, PI } = Math;\n\nexport const column = ({ column }) => column;\nexport const row = ({ row }) => row;\nexport const nodeString = ({ column, row }) => `{ node::${column}_${row} }`;\nexport const node = (column = null, row = null) =>\n ({ column, row, toString: () => nodeString({ column, row }) });\nexport const copy = n => node(column(n), row(n));\n\nexport const colDiff = ({ column: c0 }) => ({ column: c1 }) => (c0 - c1);\nexport const rowDiff = ({ row: r0 }) => ({ row: r1 }) => (r0 - r1);\nexport const tangent = n0 => n1 => rowDiff(n0)(n1) / colDiff(n0)(n1);\nexport const angleBetween = n0 => n1 => ((atan(tangent(n0)(n1)) % PI) + PI) % PI;\n\nexport const sameCol = n0 => n1 => abs(colDiff(n0)(n1)) === 0;\nexport const sameRow = n0 => n1 => abs(rowDiff(n0)(n1)) === 0;\nexport const samePVector = n0 => n1 => angleBetween(n0)(n1) === PI * 0.25;\nexport const sameNVector = n0 => n1 => angleBetween(n0)(n1) === PI * 0.75;\n\nexport const cAdj = n0 => n1 => abs(colDiff(n0)(n1)) < 2;\nexport const rAdj = n0 => n1 => abs(rowDiff(n0)(n1)) < 2;\n\nexport const isEquivalent = c0 => c1 => sameCol(c0)(c1) && sameRow(c0)(c1);\nexport const xEquivalent = src => alt => !isEquivalent(src)(alt);\n\nexport const isNeighbor = n0 => n1 =>\n xEquivalent(n0)(n1) && cAdj(n0)(n1) && rAdj(n0)(n1);\n","import { Graph, } from 'graph-curry';\nimport { isNeighbor, sameCol, sameNVector, samePVector, sameRow, } from './node';\nconst { nodes, } = Graph;\n\nexport const allAdj = g => src => nodes(g).filter(isNeighbor(src));\nexport const rowAdj = g => src => allAdj(g)(src).filter(sameRow(src));\nexport const colAdj = g => src => allAdj(g)(src).filter(sameCol(src));\nexport const posAdj = g => src => allAdj(g)(src).filter(samePVector(src));\nexport const negAdj = g => src => allAdj(g)(src).filter(sameNVector(src));\n","import { Graph, } from 'graph-curry';\nimport { allAdj, colAdj, negAdj, posAdj, rowAdj, } from './adj';\n\nconst { addEdges, nodes, } = Graph;\n\nexport const joinAdj = (g, src) => addEdges(g)(src, 0)(...allAdj(g)(src));\nexport const joinCols = (g, src) => addEdges(g)(src, 0)(...colAdj(g)(src));\nexport const joinRows = (g, src) => addEdges(g)(src, 0)(...rowAdj(g)(src));\nexport const joinPVectors = (g, src) => addEdges(g)(src, 0)(...posAdj(g)(src));\nexport const joinNVectors = (g, src) => addEdges(g)(src, 0)(...negAdj(g)(src));\n\nexport const joinGrid = grid => nodes(grid).reduce(joinAdj, grid);\nexport const colGrid = grid => nodes(grid).reduce(joinCols, grid);\nexport const rowGrid = grid => nodes(grid).reduce(joinRows, grid);\nexport const posGrid = grid => nodes(grid).reduce(joinPVectors, grid);\nexport const negGrid = grid => nodes(grid).reduce(joinNVectors, grid);\n","import { Components, } from 'graph-curry';\nimport { colGrid, negGrid, posGrid, rowGrid, } from './join';\nconst { componentSet, } = Components;\n\nexport const colComponents = grid => componentSet(colGrid(grid));\nexport const rowComponents = grid => componentSet(rowGrid(grid));\nexport const posComponents = grid => componentSet(posGrid(grid));\nexport const negComponents = grid => componentSet(negGrid(grid));\n","import { Graph, } from 'graph-curry';\nimport { column as getCol, row as getRow, isEquivalent, node, sameCol,\n  sameNVector, samePVector, sameRow, } from './node';\n\nconst { fromElements, nodes, } = Graph;\n\nexport const genNodes = (cols = 0, rows = 0) => {\n  const nArr = [];\n  \n  for (let c = cols - 1; c >= 0; c--) {\n    for (let r = rows - 1; r >= 0; r--) {\n      nArr.unshift(node(c, r));\n    }\n  }\n  \n  return nArr;\n};\n\nexport const cIDs = grid => new Set(nodes(grid).map(getCol));\nexport const rIDs = grid => new Set(nodes(grid).map(getRow));\n\nexport const grid = (c = 0, r = 0) => fromElements(...genNodes(c, r));\nexport const copy = grid => fromElements(...nodes(grid));\n\nexport const nodesByColumn = grid => (column = 0) =>\n  nodes(grid).filter(sameCol({ column }));\n\nexport const nodesByRow = grid => (row = 0) =>\n  nodes(grid).filter(sameRow({ row }));\n\nexport const nodesByPVector = grid => (column = 0, row = 0) =>\n  nodes(grid).filter(samePVector({ column, row }));\n\nexport const nodesByNVector = grid => (column = 0, row = 0) =>\n  nodes(grid).filter(sameNVector({ column, row }));\n\nexport const nodeByPosition = grid => (column = 0, row = 0) =>\n  nodes(grid).find(isEquivalent({ column, row }));\n","import { Graph, } from 'graph-curry';\nimport { allAdj, colAdj, negAdj, posAdj, rowAdj, } from './adj';\n\nconst { addEdges, nodes, } = Graph;\n\nexport const joinAdj = (g, src) => addEdges(g)(src, 0)(...allAdj(g)(src));\nexport const joinCols = (g, src) => addEdges(g)(src, 0)(...colAdj(g)(src));\nexport const joinRows = (g, src) => addEdges(g)(src, 0)(...rowAdj(g)(src));\nexport const joinPVectors = (g, src) => addEdges(g)(src, 0)(...posAdj(g)(src));\nexport const joinNVectors = (g, src) => addEdges(g)(src, 0)(...negAdj(g)(src));\n\nexport const joinGrid = grid => nodes(grid).reduce(joinAdj, grid);\nexport const colGrid = grid => nodes(grid).reduce(joinCols, grid);\nexport const rowGrid = grid => nodes(grid).reduce(joinRows, grid);\nexport const posGrid = grid => nodes(grid).reduce(joinPVectors, grid);\nexport const negGrid = grid => nodes(grid).reduce(joinNVectors, grid);\n"],"names":["atan","Math","abs","PI","column","row","nodeString","node","toString","copy","n","colDiff","c0","c1","rowDiff","r0","r1","tangent","n0","n1","angleBetween","sameCol","sameRow","samePVector","sameNVector","cAdj","rAdj","isEquivalent","xEquivalent","src","alt","isNeighbor","nodes","Graph","allAdj","g","filter","rowAdj","colAdj","posAdj","negAdj","addEdges","joinCols","joinRows","joinPVectors","joinNVectors","colGrid","grid","reduce","rowGrid","posGrid","negGrid","componentSet","Components","colComponents","rowComponents","posComponents","negComponents","fromElements","genNodes","cols","rows","nArr","c","r","unshift","cIDs","Set","map","getCol","rIDs","getRow","nodesByColumn","nodesByRow","nodesByPVector","nodesByNVector","nodeByPosition","find","joinAdj","joinGrid"],"mappings":"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"}