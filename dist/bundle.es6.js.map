{"version":3,"file":"bundle.es6.js","sources":["../src/node.js","../src/grid.js","../src/connections.js","../src/traversals.js"],"sourcesContent":["const { atan, abs, PI } = Math;\n\nexport const column = ({ column }) => column;\nexport const row = ({ row }) => row;\nexport const nodeString = ({ column, row }) => `{ node::${column}_${row} }`;\nexport const node = (column = null, row = null) =>\n ({ column, row, toString: () => nodeString({ column, row }) });\n\nexport const colDiff = ({ column: c0 }) => ({ column: c1 }) => (c0 - c1);\nexport const rowDiff = ({ row: r0 }) => ({ row: r1 }) => (r0 - r1);\nexport const tangent = n0 => n1 => (rowDiff(n0)(n1)) / (colDiff(n0)(n1));\nexport const angleBetween = n0 => n1 => ((atan(tangent(n0)(n1)) % PI) + PI) % PI;\n\nexport const sameCol = n0 => n1 => abs(colDiff(n0)(n1)) === 0;\nexport const sameRow = n0 => n1 => abs(rowDiff(n0)(n1)) === 0;\nexport const samePVector = n0 => n1 => angleBetween(n0)(n1) === PI * 0.25;\nexport const sameNVector = n0 => n1 => angleBetween(n0)(n1) === PI * 0.75;\n\nexport const cAdj = n0 => n1 => abs(colDiff(n0)(n1)) < 2;\nexport const rAdj = n0 => n1 => abs(rowDiff(n0)(n1)) < 2;\n\nexport const isEquivalent = c0 => c1 => sameCol(c0)(c1) && sameRow(c0)(c1);\nexport const xEquivalent = src => alt => !isEquivalent(src)(alt);\n\nexport const isNeighbor = n0 => n1 =>\n xEquivalent(n0)(n1) && cAdj(n0)(n1) && rAdj(n0)(n1);\n\nexport default node;\n","import { fromElements, nodes, } from 'graph-curry';\nimport node, { column as getCol, row as getRow, isEquivalent, sameCol,\nsameNVector, samePVector, sameRow, } from './node';\n\nexport const genNodes = (cols = 0, rows = 0) => {\n  const nodes = [];\n\n  for (let c = cols - 1; c >= 0; c--) {\n    for (let r = rows - 1; r >= 0; r--) {\n      nodes.unshift(node(c, r));\n    }\n  }\n\n  return nodes;\n};\n\nexport const cIDs = grid => new Set(nodes(grid).map(getCol));\nexport const rIDs = grid => new Set(nodes(grid).map(getRow));\n\nexport const initNodes = (c = 0, r = 0) => fromElements(...genNodes(c, r));\nexport const fromGrid = grid => fromElements(...nodes(grid));\n\nexport const nodesByColumn = grid => (column = 0) =>\n  nodes(grid).filter(sameCol({ column }));\n\nexport const nodesByRow = grid => (row = 0) =>\n  nodes(grid).filter(sameRow({ row }));\n\nexport const nodesByPVector = grid => (column = 0, row = 0) =>\n  nodes(grid).filter(samePVector({ column, row }));\n\nexport const nodesByNVector = grid => (column = 0, row = 0) =>\n  nodes(grid).filter(sameNVector({ column, row }));\n\nexport const nodeByPosition = grid => (column = 0, row = 0) =>\n  nodes(grid).find(isEquivalent({ column, row }));\nexport default initNodes;\n","import { addEdges, nodes, } from 'graph-curry';\nimport { isNeighbor, sameCol, sameNVector, samePVector, sameRow, } from './node';\n\nexport const adjNodes = grid => src => nodes(grid).filter(isNeighbor(src));\n\nexport const rowAdj = grid => src => adjNodes(grid)(src).filter(sameRow(src));\nexport const colAdj = grid => src => adjNodes(grid)(src).filter(sameCol(src));\nexport const posAdj = grid => src => adjNodes(grid)(src).filter(samePVector(src));\nexport const negAdj = grid => src => adjNodes(grid)(src).filter(sameNVector(src));\nexport const allAdj = grid => src => adjNodes(grid)(src).filter(isNeighbor(src));\n\nexport const joinAdjBin = (grid = new Map, src) =>\n  addEdges(grid)(src, 0)(...adjNodes(grid)(src));\n\nexport const joinColsBin = (grid = new Map, src) =>\n  addEdges(grid)(src, 0)(...colAdj(grid)(src));\n\nexport const joinRowsBin = (grid = new Map, src) =>\n  addEdges(grid)(src, 0)(...rowAdj(grid)(src));\n\nexport const joinPVectorsBin = (grid = new Map, src) =>\n  addEdges(grid)(src, 0)(...posAdj(grid)(src));\n\nexport const joinNVectorsBin = (grid = new Map, src) =>\n  addEdges(grid)(src, 0)(...negAdj(grid)(src));\n\nexport const joinAdj = grid => nodes(grid).reduce(joinAdjBin, grid);\nexport const joinCols = grid => nodes(grid).reduce(joinColsBin, grid);\nexport const joinRows = grid => nodes(grid).reduce(joinRowsBin, grid);\nexport const joinPVectors = grid => nodes(grid).reduce(joinPVectorsBin, grid);\nexport const joinNVectors = grid => nodes(grid).reduce(joinNVectorsBin, grid);\n","import { componentSet, fromElements, nodes, } from 'graph-curry';\nimport { joinAdj, joinCols, joinNVectors, joinPVectors, joinRows, } from './connections';\n\nexport const omniGraph = grid => joinAdj(fromElements(...nodes(grid)));\nexport const colGraph = grid => joinCols(fromElements(...nodes(grid)));\nexport const rowGraph = grid => joinRows(fromElements(...nodes(grid)));\nexport const posGraph = grid => joinPVectors(fromElements(...nodes(grid)));\nexport const negGraph = grid => joinNVectors(fromElements(...nodes(grid)));\n\nexport const colComponents = grid => componentSet(colGraph(grid));\nexport const rowComponents = grid => componentSet(rowGraph(grid));\nexport const posComponents = grid => componentSet(posGraph(grid));\nexport const negComponents = grid => componentSet(negGraph(grid));\n"],"names":["atan","Math","abs","PI","column","row","nodeString","node","toString","colDiff","c0","c1","rowDiff","r0","r1","tangent","n0","n1","angleBetween","sameCol","sameRow","samePVector","sameNVector","cAdj","rAdj","isEquivalent","xEquivalent","src","alt","isNeighbor","genNodes","cols","rows","nodes","c","r","unshift","cIDs","Set","grid","map","getCol","rIDs","getRow","initNodes","fromElements","fromGrid","nodesByColumn","filter","nodesByRow","nodesByPVector","nodesByNVector","nodeByPosition","find","adjNodes","rowAdj","colAdj","posAdj","negAdj","allAdj","joinAdjBin","Map","addEdges","joinColsBin","joinRowsBin","joinPVectorsBin","joinNVectorsBin","joinAdj","reduce","joinCols","joinRows","joinPVectors","joinNVectors","omniGraph","colGraph","rowGraph","posGraph","negGraph","colComponents","componentSet","rowComponents","posComponents","negComponents"],"mappings":"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"}